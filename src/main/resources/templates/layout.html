<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title th:insert="${title}">My App</title>
    <script src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js" defer></script>  <!-- lub WebJars -->
</head>
<body>
<header th:insert="fragments/header :: header"></header>
<main th:insert="${content}"></main>
<div x-data="{
    users: [],
    init() {
      fetch('/api/users')
        .then(res => res.json())
        .then(data => this.users = data)
    }
  }" x-init="init()">
    <ul><li x-for="u in users" x-text="u.name"></li></ul>
</div>
<footer th:insert="fragments/footer :: footer"></footer>
</body>
</html>
